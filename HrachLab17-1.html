<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì—Ä–∞ "–í–≥–∞–¥–∞–π —á–∏—Å–ª–æ"</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 20px;
        }
        button:hover {
            background-color: #45a049;
        }
        #log {
            margin-top: 20px;
            text-align: left;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            max-height: 300px;
            overflow-y: auto;
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <h1>–ì—Ä–∞ "–í–≥–∞–¥–∞–π —á–∏—Å–ª–æ"</h1>
    <p>–°–ø—Ä–æ–±—É–π—Ç–µ –≤–≥–∞–¥–∞—Ç–∏ —á–∏—Å–ª–æ –≤—ñ–¥ 0 –¥–æ 100</p>
    <button id="startButton">–ü–æ—á–∞—Ç–∏ –≥—Ä—É</button>
    <div id="log"></div>

    <script>
        let targetNumber;
        let attempts;
        let previousDifference;
        let gameActive = false;

        const startButton = document.getElementById('startButton');
        startButton.addEventListener('click', startGame);

        function startGame() {
            if (gameActive) return;
            
            targetNumber = Math.floor(Math.random() * 101);
            attempts = 0;
            previousDifference = null;
            gameActive = true;
            document.getElementById('log').innerHTML = '';
            
            logToConsole(–ü–æ—á–∞—Ç–æ–∫ –≥—Ä–∏. –ó–∞–≥–∞–¥–∞–Ω–µ —á–∏—Å–ª–æ: ${targetNumber} (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ç–µ—Å—Ç—É));
            makeGuess();
        }

        function makeGuess() {
            if (!gameActive) return;

            const guess = prompt(–°–ø—Ä–æ–±–∞ ${attempts + 1}. –í–≤–µ–¥—ñ—Ç—å —á–∏—Å–ª–æ –≤—ñ–¥ 0 –¥–æ 100:);
            
            // –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–Ω—É–≤ "–°–∫–∞—Å—É–≤–∞—Ç–∏"
            if (guess === null) {
                gameActive = false;
                logToConsole('–ì—Ä—É –ø–µ—Ä–µ—Ä–≤–∞–Ω–æ');
                return;
            }

            const number = parseInt(guess);
            
            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—è
            if (isNaN(number) || number < 0 || number > 100) {
                alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–µ —á–∏—Å–ª–æ –≤—ñ–¥ 0 –¥–æ 100!');
                makeGuess();
                return;
            }

            attempts++;
            logAttempt(number);

            if (number === targetNumber) {
                const message = –í—ñ—Ç–∞—î–º–æ! –ó–∞ ${attempts} —Å–ø—Ä–æ–± –≤–∏ –≤–≥–∞–¥–∞–ª–∏ —á–∏—Å–ª–æ ${targetNumber}.;
                alert(message);
                logToConsole(message);
                
                if (confirm('–ë–∞–∂–∞—î—Ç–µ –∑—ñ–≥—Ä–∞—Ç–∏ —â–µ —Ä–∞–∑?')) {
                    startGame();
                } else {
                    gameActive = false;
                }
            } else {
                const difference = Math.abs(targetNumber - number);
                let hint = getHint(difference, previousDifference);
                previousDifference = difference;
                
                alert(–ù–µ –≤–≥–∞–¥–∞–ª–∏! ${hint}\n–í–∞—à–µ —á–∏—Å–ª–æ ${number < targetNumber ? '–º–µ–Ω—à–µ' : '–±—ñ–ª—å—à–µ'} –∑–∞ –∑–∞–≥–∞–¥–∞–Ω–µ.);
                makeGuess();
            }
        }

        function getHint(currentDiff, prevDiff) {
            if (prevDiff === null) {
                if (currentDiff > 50) return "–î—É–∂–µ —Ö–æ–ª–æ–¥–Ω–æ! ‚ùÑÔ∏è";
                if (currentDiff > 30) return "–•–æ–ª–æ–¥–Ω–æ ü•∂";
                if (currentDiff > 15) return "–¢–µ–ø–ª–æ üå§";
                return "–ì–∞—Ä—è—á–µ! üî•";
            } else {
                if (currentDiff > prevDiff) {
                    if (currentDiff > 50) return "–î—É–∂–µ —Ö–æ–ª–æ–¥–Ω–æ (—Ö–æ–ª–æ–¥–Ω—ñ—à–µ)! ‚ùÑÔ∏è‚ùÑÔ∏è";
if (currentDiff > 30) return "–•–æ–ª–æ–¥–Ω—ñ—à–µ ü•∂";
                    return "–¢–µ–ø–ª—ñ—à–µ, –∞–ª–µ –≤—Å–µ —â–µ —Ö–æ–ª–æ–¥–Ω–æ üå§";
                } else {
                    if (currentDiff < 10) return "–î—É–∂–µ –≥–∞—Ä—è—á–µ (—Ç–µ–ø–ª—ñ—à–µ)! üî•üî•";
                    if (currentDiff < 20) return "–ì–∞—Ä—è—á–µ (—Ç–µ–ø–ª—ñ—à–µ)! üî•";
                    return "–¢–µ–ø–ª—ñ—à–µ üå§";
                }
            }
        }

        function logAttempt(number) {
            const now = new Date();
            const dateStr = String(now.getDate()).padStart(2, '0') + '.' + 
                           String(now.getMonth() + 1).padStart(2, '0') + '.' + 
                           now.getFullYear();
            const timeStr = String(now.getHours()).padStart(2, '0') + ':' + 
                           String(now.getMinutes()).padStart(2, '0') + ':' + 
                           String(now.getSeconds()).padStart(2, '0');
            const logMessage = ${dateStr} ${timeStr} –°–ø—Ä–æ–±–∞ ${attempts}: —á–∏—Å–ª–æ ${number} - –Ω–µ –≤—ñ—Ä–Ω–æ;
            
            console.log(logMessage);
            logToConsole(logMessage);
        }

        function logToConsole(message) {
            const logElement = document.getElementById('log');
            logElement.innerHTML += message + '<br>';
            logElement.scrollTop = logElement.scrollHeight;
        }
    </script>
</body>
</html>
